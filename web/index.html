<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Large-Scale Molecular Visualization - WASM + Three.js</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="container">
        <canvas id="canvas"></canvas>

        <!-- Main Controls Panel -->
        <div id="controls">
            <h3>üß¨ Large-Scale Molecular Viz</h3>
            <p>üñ±Ô∏è Left: Rotate | Right: Pan | Scroll: Zoom | Space: Auto-rotate | R: Reset</p>

            <!-- Atom Count Control -->
            <div class="control-section">
                <label>
                    <strong>Atom Count:</strong> <span id="atom-count-value">100</span>
                    <input type="range" id="atom-count-slider"
                           min="2" max="8" step="0.1" value="2">
                    <div class="range-labels">
                        <span>100</span>
                        <span>1K</span>
                        <span>10K</span>
                        <span>100K</span>
                        <span>1M</span>
                        <span>10M</span>
                        <span>100M</span>
                    </div>
                    <button id="generate-button" class="generate-btn">Generate Atoms</button>
                </label>
            </div>

            <!-- Grid Controls -->
            <div class="control-section">
                <label>
                    Grid Spacing: <span id="grid-size-value">1.0</span>√Ö
                    <input type="range" id="grid-size-slider"
                           min="0.5" max="3.0" step="0.1" value="1.0">
                </label>
            </div>

            <!-- Animation Controls -->
            <div class="control-section">
                <label>
                    Animation Speed: <span id="speed-value">1.0x</span>
                    <input type="range" id="speed-slider"
                           min="0" max="2" step="0.1" value="1">
                </label>

                <label class="checkbox-label">
                    <input type="checkbox" id="auto-rotate">
                    Auto-rotate Camera
                </label>
            </div>

            <!-- Status Display -->
            <div id="status" class="status">Ready to generate atoms</div>
        </div>

        <!-- Stats Panel -->
        <div id="stats-panel">
            <div id="stats">
                <strong>Performance Stats:</strong><br>
                Total Atoms: 0<br>
                Visible Atoms: 0<br>
                FPS: 0<br>
                Render Time: 0ms<br>
                Memory Usage: N/A
            </div>
        </div>

        <!-- Warning Panel -->
        <div id="warning-panel">
            <h4>‚ö†Ô∏è Performance Warning</h4>
            <p>This is a stress test tool for large-scale molecular visualization.</p>
            <ul>
                <li><strong>1M+ atoms:</strong> May slow down significantly</li>
                <li><strong>10M+ atoms:</strong> May cause browser lag</li>
                <li><strong>100M atoms:</strong> Will likely crash or exhaust memory</li>
            </ul>
            <p>Start small and work your way up. Monitor the stats panel for performance metrics.</p>
        </div>

        <!-- Legend Panel -->
        <div id="legend-panel">
            <h4>üé® Element Colors</h4>
            <div class="element-list">
                <div class="element-item">
                    <div class="element-color" style="background: white; border: 1px solid #ccc;"></div>
                    <span>Hydrogen (H)</span>
                </div>
                <div class="element-item">
                    <div class="element-color" style="background: #33cc55;"></div>
                    <span>Fluorine (F)</span>
                </div>
                <div class="element-item">
                    <div class="element-color" style="background: #ff3333;"></div>
                    <span>Oxygen (O)</span>
                </div>
                <div class="element-item">
                    <div class="element-color" style="background: #3333ff;"></div>
                    <span>Nitrogen (N)</span>
                </div>
            </div>

            <h4>üìä LOD System</h4>
            <div class="lod-info">
                <div>üî¥ <strong>Far:</strong> Points</div>
                <div>üü° <strong>Medium:</strong> Low-poly spheres</div>
                <div>üü¢ <strong>Near:</strong> High-poly spheres</div>
            </div>
        </div>
    </div>

    <script type="importmap">
        {
            "imports": {
                "three": "https://cdn.jsdelivr.net/npm/three@0.161/build/three.module.js",
                "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.161/examples/jsm/"
            }
        }
    </script>
    <script type="module" src="main.js"></script>
</body>
</html>
